<!DOCTYPE html>
<html>

<head>
<title> 简易画板 </title>
<meta charset="utf-8" />
<link rel="stylesheet" href="#">
<style>
	canvas { background: #ccc; }
</style>
</head>

<body>
	<canvas id="canvas" width=500 height=500></canvas>

	<script>
		// 鼠标跟随画布
		window.onload = function () {
			var canvas = document.getElementById("canvas");
			var cobj = canvas.getContext("2d");

			canvas.onmousedown = function (e) {
				var mx = e.layerX;
				var my = e.layerY;

				cobj.moveTo(mx, my);
				canvas.onmousemove = function (e) {
					var endx = e.layerX;
					var endy = e.layerY;
					cobj.lineTo(endx, endy);
					cobj.stroke();
				}
				canvas.onmouseup = function () {
					canvas.onmousemove = null;
					canvas.onmouseup = null;
				}
			}
		}
	</script>
</body>

</html>