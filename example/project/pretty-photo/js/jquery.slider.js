/*
 * Motion Slider v1.0 - jQuery Image Slider
 * 
 * (c) Copyright Steven "cmsmasters" Masters
 * http://cmsmastrs.net/
 * For sale on ThemeForest.net
 */
(function(a){a.fn.cmsmsMotionSlider=function(b){var b=jQuery.extend({sliderWidth:1e3,sliderHeight:500,pauseOnHover:true,showControl:true,showNav:true,navThumbs:true,showArrows:true,showPause:true,showTimer:true,showLightbox:true,showCaptions:true,useCanvas:true},b);return this.each(function(){function bL(a,b,c,d){a.beginPath();a.moveTo(0,0);a.lineTo(b,0);a.lineTo(b,c);a.lineTo(0,c);a.closePath();a.fill();if(b<d-1){a.save();a.shadowOffsetX=1;a.shadowBlur=1;a.shadowColor="#333333";a.fillRect(b,0,1,N);a.restore()}}function bK(a,b,c){a.save();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=2;a.shadowColor="#333333";a.fillStyle="#666666";bI(a,b,c);bJ(a,b,c);a.restore()}function bJ(a,b,c){a.beginPath();a.moveTo(1e3,1e3);a.lineTo(1e3,-1e3);a.lineTo(-1e3,-1e3);a.lineTo(-1e3,1e3);a.lineTo(1e3,1e3);a.moveTo(0,0);a.lineTo(b,0);a.lineTo(b,c);a.lineTo(0,c);a.closePath();a.fill()}function bI(a,b,c){a.beginPath();a.moveTo(0,0);a.lineTo(b,0);a.lineTo(b,c);a.lineTo(0,c);a.closePath();a.fill()}function bH(a,b){for(var c=0;c<a.length;c++){if(a[c]==b)a.splice(c,1)}}function bG(a){params=["in","none","out"];if(a)bH(params,a);return params[parseInt(Math.random()*params.length)]}function bF(a){params=["left","center","right"];if(a)bH(params,a);return params[parseInt(Math.random()*params.length)]}function bE(a){params=["top","center","bottom"];if(a)bH(params,a);return params[parseInt(Math.random()*params.length)]}function bD(){if(b.showPause){bc.show();bd.show();bk.parent().fadeOut(100,function(){bd.animate({left:"70px"},500);bc.animate({left:0},500,function(){be.parent().fadeIn(100)})})}else{bc.show();bd.show();bk.parent().fadeOut(100,function(){bd.animate({left:"70px"},500);bc.animate({left:0},500)})}}function bC(){if(b.showPause){be.parent().fadeOut(100,function(){bd.animate({left:"30px"},500);bc.animate({left:"41px"},500,function(){bk.parent().fadeIn(100,function(){bc.hide();bd.hide()})})})}else{bd.animate({left:"30px"},500);bc.animate({left:"41px"},500,function(){bk.parent().fadeIn(100,function(){bc.hide();bd.hide()})})}}function bB(){$invideo=false;$workSlider.find("li.active iframe").fadeOut(500,function(){bx(be);$workSlider.find("li.active canvas").css({display:"block"})});iframe=false}function bA(){var a=Q.height();var b=Q.parent().height();var c=parseInt(Q.css("margin-top").replace("-","").replace("px",""));if(c>0){c/b<1?Q.animate({marginTop:0},300):Q.animate({marginTop:"-"+parseInt(c-b)+"px"},300)}}function bz(){var a=Q.height();var b=Q.parent().height();var c=parseInt(Q.css("margin-top").replace("-","").replace("px",""));if(parseInt(a-c)>b){if(a/b<2){Q.animate({marginTop:parseInt(b-parseInt(a-c))+"px"},300)}else{parseInt(a-c)/b<2?Q.animate({marginTop:"-"+parseInt(a-b)+"px"},300):Q.animate({marginTop:"-"+parseInt(c+b)+"px"},300)}}}function by(){var a=Q.height();var b=Q.parent().height()+20;var c=parseInt(b/85);var d=parseInt(Q.css("margin-top").replace("-","").replace("px",""));var e=Q.find("li.active").position().top>0?Q.find("li.active").position().top+95:Q.find("li.active").position().top+75;if(e<d){if((d-e+75)/b<1){d+75>c*85?Q.animate({marginTop:"-"+parseInt(d-c*85)+"px"},300):bA()}else{Q.animate({marginTop:0},300)}}else if(e-d>b){if((e-d-95)/b>1){Q.animate({marginTop:"-"+parseInt(a-b+20)+"px"},300)}else{b+d+85<a?Q.animate({marginTop:"-"+parseInt(c*85+d)+"px"},300):bz()}}}function bx(a){if(a.hasClass("active")){a.removeClass("active");J=false}else{a.addClass("active");J=true}}function bw(){if(F||$infadein)return false;if(be.hasClass("active")){be.removeClass("active");J=false}countdown=0}function bv(){if(F||$infadein)return false;$prevIndex=$workSlider.find("li.active").index();$currentIndex=$prevIndex==0?parseInt(g-1):parseInt($prevIndex-1);if(be.hasClass("active")){be.removeClass("active");J=false}countdown=0;E=true}function bu(b){if(F||$infadein)return false;$prevIndex=$workSlider.find("li.active").index();$currentIndex=a(b).parent().index();if($prevIndex==$currentIndex)return false;if(be.hasClass("active")){be.removeClass("active");J=false}countdown=0;E=true}function bt(){if(a(".showHide a").parent().hasClass("hidden")){a(".showHide").removeClass("hidden");a(".showHide a").parent().parent().animate({right:0},500)}else{a(".showHide a").parent().parent().animate({right:"-140px"},500,function(){a(".showHide").addClass("hidden")})}}function bs(){if(J||countdown<0)return;br(M-parseInt(countdown/L));if(countdown===0)bp();countdown--}function br(a){if(bg){bg.clearRect(0,0,M,N);if(a<M){bK(bg,M,N);bL(bg,a,N,M)}}else{bj.css({backgroundPosition:"-"+Math.round(Math.round(10-10*(a/110))*11)+"px 0"})}}function bq(a,c,d,e,f,g,h){function A(){if(Math.abs(w-u)<=$widthPlus&&Math.abs(x-v)<=$heightPlus&&Math.abs(m-k)<=s&&Math.abs(n-l)<=t){clearInterval(C)}else{i.save();i.drawImage(y,-l,-k,u,v);i.restore();if(d=="in"){u+=$widthPlus;v+=$heightPlus}else{u-=$widthPlus;v-=$heightPlus}if($verDirection=="up"){if(d=="in"){g=="top"?k-=s:k+=s}else{k-=s}}else if($verDirection=="down"){if(d=="out"){e=="top"&&(g=="bottom"||g=="center")?k+=s:k-=s}else{k+=s}}else if($verDirection=="center"){d=="out"?k-=$heightPlus/2:k+=$heightPlus/2}else{d=="out"?k-=s:k+=s}if($horDirection=="left"){d=="in"?l+=t:l-=t}else if($horDirection=="right"){d=="out"?l-=t:l+=t}else if($horDirection=="center"){d=="out"?l-=$widthPlus/2:l+=$widthPlus/2}else{d=="out"?l-=t:l+=t}}}var i=document.getElementById("slideCanvas"+j).getContext("2d");var y=new Image;y.src=a.attr("src");switch(d){case"in":if(a.width()/b.sliderWidth<a.height()/b.sliderHeight){u=b.sliderWidth;o=0;v=a.width()>b.sliderWidth&&a.height()>b.sliderHeight?a.height()/parseFloat(a.width()/b.sliderWidth):a.height()*parseFloat(b.sliderWidth/a.width());p=v-b.sliderHeight}else if(a.width()/b.sliderWidth>a.height()/b.sliderHeight){u=a.width()>b.sliderWidth&&a.height()>b.sliderHeight?a.width()/parseFloat(a.height()/b.sliderHeight):a.width()*parseFloat(b.sliderHeight/a.height());o=u-b.sliderWidth;v=b.sliderHeight;p=0}else{u=b.sliderWidth;o=0;v=b.sliderHeight;p=0}if(a.width()>b.sliderWidth&&a.height()>b.sliderHeight){w=a.width();q=w-b.sliderWidth;x=a.height();r=x-b.sliderHeight}else{if(a.width()/b.sliderWidth<a.height()/b.sliderHeight){w=b.sliderWidth;q=0;x=a.height()*parseFloat(b.sliderWidth/a.width());r=x-b.sliderHeight}else if(a.width()/b.sliderWidth>a.height()/b.sliderHeight){w=a.width()*parseFloat(b.sliderHeight/a.height());q=w-b.sliderWidth;x=b.sliderHeight;r=0}else{w=b.sliderWidth;q=0;x=b.sliderHeight;r=0}}break;case"none":if(a.width()>b.sliderWidth&&a.height()>b.sliderHeight){w=u=a.width();q=o=u-b.sliderWidth;x=v=a.height();r=p=v-b.sliderHeight}else{if(a.width()/b.sliderWidth<a.height()/b.sliderHeight){w=u=b.sliderWidth;q=o=0;x=v=a.height()*parseFloat(b.sliderWidth/a.width());r=p=v-b.sliderHeight}else if(a.width()/b.sliderWidth>a.height()/b.sliderHeight){w=u=a.width()*parseFloat(b.sliderHeight/a.height());q=o=u-b.sliderWidth;x=v=b.sliderHeight;r=p=0}else{w=u=b.sliderWidth;q=o=0;x=v=b.sliderHeight;r=p=0}}break;case"out":if(a.width()>b.sliderWidth&&a.height()>b.sliderHeight){u=a.width();o=u-b.sliderWidth;v=a.height();p=v-b.sliderHeight}else{if(a.width()/b.sliderWidth<a.height()/b.sliderHeight){u=b.sliderWidth;o=0;v=a.height()*parseFloat(b.sliderWidth/a.width());p=v-b.sliderHeight}else if(a.width()/b.sliderWidth>a.height()/b.sliderHeight){u=a.width()*parseFloat(b.sliderHeight/a.height());o=u-b.sliderWidth;v=b.sliderHeight;p=0}else{u=b.sliderWidth;o=0;v=b.sliderHeight;p=0}}if(a.width()/b.sliderWidth<a.height()/b.sliderHeight){w=b.sliderWidth;q=0;x=a.width()>b.sliderWidth&&a.height()>b.sliderHeight?a.height()/parseFloat(a.width()/b.sliderWidth):a.height()*parseFloat(b.sliderWidth/a.width());r=x-b.sliderHeight}else if(a.width()/b.sliderWidth>a.height()/b.sliderHeight){w=a.width()>b.sliderWidth&&a.height()>b.sliderHeight?a.width()/parseFloat(a.height()/b.sliderHeight):a.width()*parseFloat(b.sliderHeight/a.height());q=w-b.sliderWidth;x=b.sliderHeight;r=0}else{w=b.sliderWidth;q=0;x=b.sliderHeight;r=0}break}switch(e){case"top":k=0;break;case"center":k=p/2;break;case"bottom":k=p;break}switch(f){case"left":l=0;break;case"center":l=o/2;break;case"right":l=o;break}switch(g){case"top":m=0;break;case"center":m=r/2;break;case"bottom":m=r;break}switch(h){case"left":n=0;break;case"center":n=q/2;break;case"right":n=q;break}if(e=="bottom"&&(g=="center"||g=="top")||e=="center"&&g=="top"){$verDirection="up"}else if(e=="top"&&(g=="center"||g=="bottom")||e=="center"&&g=="bottom"){$verDirection="down"}else if(e=="center"&&g=="center"){$verDirection="center"}else{$verDirection="none"}if(f=="right"&&(h=="center"||h=="left")||f=="center"&&h=="left"){$horDirection="left"}else if(f=="left"&&(h=="center"||h=="right")||f=="center"&&h=="right"){$horDirection="right"}else if(f=="center"&&h=="center"){$horDirection="center"}else{$horDirection="none"}clearInterval(C);$widthPlus=Math.abs(u-w)==0?0:parseFloat(Math.abs(u-w)/(25*c).toFixed(2));$heightPlus=Math.abs(v-x)==0?0:parseFloat(Math.abs(v-x)/(25*c).toFixed(2));s=Math.abs(k-m)==0?0:parseFloat(Math.abs(k-m)/(25*c).toFixed(2));t=Math.abs(l-n)==0?0:parseFloat(Math.abs(l-n)/(25*c).toFixed(2));var z=setInterval(function(){if(y.complete){clearInterval(z);i.drawImage(y,-l,-k,u,v);C=setInterval(A,40)}},50)}function bp(){function C(c){if(F||$infadein)return false;bC();if(be.is(":not(.active)"))bx(be);$invideo=true;if(d&&b.useCanvas){G=a(c).find("canvas:eq(0)").parent().attr("href")}else{G=a(c).find("img:eq(0)").parent().attr("href")}H=G.match(/^(http:\/\/)(www\.)?([^\/]+)(\.com)/i);if(H[3]=="youtube"){I=G.match(/^(http:\/\/)?(www\.)?youtube\.com\/(watch\?v=)?(v\/)?([^&]+)/i);var e=m?1:0;var f=n?0:1;if(a(c).find("#player"+j).attr("class")!="videoIframe"){var g=a('<div id="player'+j+'" class="videoIframe" />');a(c).append(g);var h=document.createElement("script");h.src="http://www.youtube.com/player_api";document.getElementById("player"+j).parentNode.insertBefore(h,document.getElementById("player"+j))}else{var g=a(c).find("#player"+j);a(g).find("iframe:eq(0)").css({display:"block"})}window.onYouTubePlayerAPIReady=function(){function c(){a.stopVideo();bB();bD();setTimeout(bw,1e3)}var a=new YT.Player("player"+j,{width:b.sliderWidth,height:b.sliderHeight,videoId:I[5],playerVars:{rel:0,showinfo:0,autoplay:1,autohide:1,fs:1,wmode:"opaque",hd:e,controls:f},events:{onStateChange:i}});bk.click(function(){if($invideo)c();return false})};function i(a){if(!l&&k&&a.data==YT.PlayerState.ENDED){a.target.stopVideo();bB();bD();setTimeout(bw,1e3)}else if(l&&a.data==YT.PlayerState.ENDED){a.target.seekTo(0)}}}else if(H[3]=="vimeo"){I=G.match(/^(http:\/\/)?(www\.)?vimeo\.com\/([^\/]+)/i);var o=l?1:0;var e=m?"high":"normal";if(a(c).find("#player"+j).attr("class")!="videoIframe"){var g=a('<iframe id="player'+j+'" class="videoIframe" src="http://player.vimeo.com/video/'+I[3]+"?title=0&byline=0&portrait=0&autoplay=1&autohide=1&wmode=opaque&api=1&player_id=player"+j+"&loop="+o+"&quality="+e+'" width="'+b.sliderWidth+'" height="'+b.sliderHeight+'" frameborder="0" webkitallowfullscreen />');a(c).append(g)}else{var g=a(c).find("#player"+j)}setTimeout(function(){function c(a){function e(){var a=document.getElementById("cmsmsMotionCloseButton");b(a,"click",function(a){if(a.target!=this||!$invideo)return false;c.api("seekTo",0);c.api("pause");bB();bD();setTimeout(bw,1e3)},false)}function d(){c.addEvent("finish",function(a){c.api("seekTo",0);c.api("pause");bB();bD();setTimeout(bw,1e3)})}var c=$f(a);if(!l&&k)d();e()}function b(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false)}else{a.attachEvent("on"+b,c)}}var a=document.getElementById("player"+j);$f(a).addEvent("ready",c)},500)}if(d&&b.useCanvas){$workSlider.find("li.slide"+j+" canvas:eq(0)").css({display:"none"})}else{$workSlider.find("li.slide"+j+" img:eq(0)").css({display:"none"})}g.fadeIn(500);g=h=false}F=$infadein=true;br(0);if(E){i=$prevIndex?$prevIndex:$workSlider.find("li.active").index();j=$currentIndex;E=false}else{if($workSlider.find("li.active").is("li")){i=$workSlider.find("li.active").index();j=i==parseInt(g-1)?0:i+1}else{j=0}}var c=f.eq(j).find("img:eq(0)").parent().is("a");var e=f.eq(j).find("img:eq(0)").parent().is("a.video");var h=e?f.eq(j).find("img:eq(0)").parent().is("a.autoplay"):false;var k=e?f.eq(j).find("img:eq(0)").parent().is("a.autostop"):false;var l=e?f.eq(j).find("img:eq(0)").parent().is("a.loop"):false;var m=e?f.eq(j).find("img:eq(0)").parent().is("a.hd"):false;var n=e?f.eq(j).find("img:eq(0)").parent().is("a.hideControls"):false;var o=f.eq(j).find(".cmsmsSlideCaption").length>0?true:false;var p=f.eq(i).find(".cmsmsSlideCaption").length>0?true:false;if(o){var q=f.eq(j).find(".cmsmsSlideCaption").attr("data-width");var r=f.eq(j).find(".cmsmsSlideCaption").attr("data-top");var s=f.eq(j).find(".cmsmsSlideCaption").attr("data-left");q=q?q:bm;r=r?r:bn;s=s?s:bo}var t=f.eq(j).attr("data-pause");countdown=t?parseFloat(t)*18:countdown=90;L=parseFloat(countdown/M);var u=f.eq(j).attr("data-animation");u=u?u:30;var v=f.eq(j).attr("data-start");var w=v?v.split(/ /)[0]:bE();var x=v?v.split(/ /)[1]:bF();w=w!="top"&&w!="center"&&w!="bottom"?bE():w;x=x!="left"&&x!="center"&&x!="right"?bF():x;var y=f.eq(j).attr("data-finish");var z=y?y.split(/ /)[0]:bE();var A=y?y.split(/ /)[1]:bF();z=z!="top"&&z!="center"&&z!="bottom"?bE():z;A=A!="left"&&A!="center"&&A!="right"?bF():A;var B=f.eq(j).attr("data-zoom");if(w==z&&x==A){B=B?B:bG("none")}else{B=B?B:bG()}B=B!="in"&&B!="none"&&B!="out"?bG():B;if(d&&b.useCanvas)bq(f.eq(j).find("img:eq(0)"),parseFloat(u),B,w,x,z,A);Q.find("li.active").each(function(){a(this).removeClass("active")});Q.find("li:eq("+j+")").addClass("active");by();$workSlider.find("li.slide"+j).addClass("active").animate({opacity:1},500,function(){if(b.showCaptions&&o){$workSlider.find("li.slide"+j+" .cmsmsSlideCaption").css({width:q+"px"});$workSlider.find("li.slide"+j+" .cmsmsSlideCaptionContainer").css({width:0,display:"block"});var a=$workSlider.find("li.slide"+j+" .cmsmsSlideCaption").height();$workSlider.find("li.slide"+j+" .cmsmsSlideCaptionContainer").css({top:r+"px",left:s+"px",marginTop:a/2,marginLeft:q/2}).animate({width:q+"px",height:a+"px",marginTop:0,marginLeft:0,opacity:1},1e3,function(){$workSlider.find("li.slide"+j+" .cmsmsSlideCaption").animate({opacity:1,marginTop:0},500,function(){$infadein=false;if(h)C($workSlider.find("li.slide"+j))})})}else{$infadein=false;if(h)C($workSlider.find("li.slide"+j))}});if(i!="undefined"){$workSlider.find("li.slide"+i).animate({opacity:0},1e3,function(){a(this).removeClass("active");if(b.showCaptions&&p){$workSlider.find("li.slide"+i+" .cmsmsSlideCaptionContainer").css({display:"none",width:0,height:0,opacity:0,marginTop:"20px"});$workSlider.find("li.slide"+i+" .cmsmsSlideCaption").css({opacity:0})}$workSlider.find("li").not(".slide"+j).css({opacity:0})})}F=false;if(e){$workSlider.find("li.slide"+j).click(function(){C($workSlider.find("li.slide"+j));return false})}}var c=a(this);c.addClass("cmsmsMotionOldSlides");var d="getContext"in document.createElement("canvas");var e=c.wrap('<div class="cmsmsMotionSliderContainer" />').parent();e.css({width:b.sliderWidth+"px",height:b.sliderHeight+"px"});var f=c.find("li");var g=$count=f.length;var h=$hasVideo=$hasCaption=false;var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;var D=$currentIndex=$prevIndex=0;var E=false;var F=$infadein=$invideo=false;var G,H,I;var J=false;var K;var L=countdown=0;var M=110;var N=6;var O="";if(b.showControl){O+='<div class="cmsmsMotionControl">'+'<div class="showHide hidden"><a href="#">show/hide</a></div>'+'<div class="cmsmsMotionNavigation"><div class="navUp"><a href="#">up</a></div><ul><li><a href="#" class="active">1</a></li></ul><div class="navDown"><a href="#">down</a></div></div>'+'<div class="cmsmsMotionTime"></div>'+'<div class="cmsmsMotionPlayPause"><a href="#">pause</a></div>'+'<div class="cmsmsMotionArrows"><a class="cmsmsMotionPrev" href="#">prev</a><a class="cmsmsMotionNext" href="#">next</a></div>'+'<div class="cmsmsMotionClose"><a onClick="return false;" href="#" id="cmsmsMotionCloseButton">close</a></div>'+"</div>"}else{O+='<div class="cmsmsMotionClose"><a href="#">close</a></div>'}var P=O?a(O):false;c.after(P);P.height(b.sliderHeight);if(b.showControl){var Q=P.find(".cmsmsMotionNavigation ul");Q.parent().height(b.sliderHeight-195);Q.empty();if(b.showNav){for(var R=0;R<$count;R++){var S=f.eq(R).find("img").attr("src");var T=f.eq(R).attr("data-thumb")?f.eq(R).attr("data-thumb"):S;var U=R==0?' class="active"':"";var V=b.navThumbs?'<img src="'+T+'" width="110" height="65" alt="" />':parseInt(R+1);var W=f.eq(R).find("img").parent().is("a")?f.eq(R).find("img").parent().attr("href"):S;var X=b.navThumbs&&b.showLightbox?'<a href="'+W+'" class="navItemShow" rel="prettyPhoto[bgSlider]"> </a>':"";Q.append("<li"+U+'><a href="#" class="navItem">'+V+"</a>"+X+"</li>")}}else{Q.parent().hide()}var Y=P.find(".showHide a");var Z=Q.find("li a.navItem");var _=P.find(".navUp");var ba=P.find(".navDown");var bb=P.find(".cmsmsMotionArrows");var bc=bb.find(".cmsmsMotionPrev");var bd=bb.find(".cmsmsMotionNext");var be=P.find(".cmsmsMotionPlayPause a");var bf=P.find(".cmsmsMotionTime");if(!b.navThumbs)_.hide();if(!b.navThumbs)ba.hide();if(!b.showArrows)bb.hide();if(!b.showPause)be.parent().hide();bf.hide();if(d){var bg=a('<canvas width="'+M+'" height="'+N+'"></canvas>');bf.append(bg);bg=bg[0].getContext("2d");if(!bg)return;var bh=bg.createLinearGradient(0,N,0,0);bg.fillStyle="#ffffff"}else{var bi=a('<div class="cmsmsMotionTimeBg"><div class="cmsmsMotionTimeImage"></div></div>');bf.append(bi);var bj=bi.find(".cmsmsMotionTimeImage")}if(b.showTimer)bf.show()}var bk=P.find(".cmsmsMotionClose a");var bl='<ul class="cmsmsMotionSlides" />';c.after(bl);$workSlider=e.find(".cmsmsMotionSlides");$workSlider.css({width:b.sliderWidth+"px",height:b.sliderHeight+"px"});f.each(function(){var c=a(this);var e=c.find("img:eq(0)");h=e.parent().is("a")?true:false;$hasVideo=h&&e.parent().is("a.video")?true:false;$hasCaption=c.find(".cmsmsSlideCaption").length>0?true:false;$workSlider.append('<li class="slide'+D+'" />');if(d&&b.useCanvas){var f=document.createElement("canvas"),g=f.getContext("2d");f.width=b.sliderWidth;f.height=b.sliderHeight;$workSlider.find("li.slide"+D).append(f);h?$workSlider.find("li.slide"+D+" canvas").attr({id:"slideCanvas"+D}).wrap('<a href="'+e.parent().attr("href")+'" />'):$workSlider.find("li.slide"+D+" canvas").attr({id:"slideCanvas"+D});if($hasVideo)$workSlider.find("li.slide"+D+" a").append('<div class="cmsmsMotionVideoImage" />')}else{$workSlider.find("li.slide"+D).append(e.clone());var i=e.width();var j=e.height();var k=0;var l=0;if(i/b.sliderWidth<j/b.sliderHeight){j=b.sliderHeight*parseFloat(j/b.sliderHeight/(i/b.sliderWidth));i=b.sliderWidth;k=parseFloat((j-b.sliderHeight)/2)}else{i=b.sliderWidth*parseFloat(i/b.sliderWidth/(j/b.sliderHeight));j=b.sliderHeight;l=parseFloat((i-b.sliderWidth)/2)}$workSlider.find("li.slide"+D+" img:eq(0)").attr({id:"slideCanvas"+D}).css({width:i,height:j,margin:-k+" 0 0 -"+l});if(h)$workSlider.find("li.slide"+D+" img:eq(0)").wrap('<a href="'+e.parent().attr("href")+'" />');if($hasVideo)$workSlider.find("li.slide"+D+" a").append('<div class="cmsmsMotionVideoImage" />')}if($hasCaption){$workSlider.find("li.slide"+D).append(c.find(".cmsmsSlideCaption").clone());$workSlider.find("li.slide"+D+" .cmsmsSlideCaption").wrap('<div class="cmsmsSlideCaptionContainer" />')}D++});if(c.find(".cmsmsSlideCaption").length>0){var bm=a(".cmsmsSlideCaptionContainer").css("width").replace("px","");var bn=a(".cmsmsSlideCaptionContainer").css("top").replace("px","");var bo=a(".cmsmsSlideCaptionContainer").css("left").replace("px","")}bp();K=setInterval(bs,50);if(b.pauseOnHover){$workSlider.hover(function(){if(!$invideo)bx(be)},function(){if(!$invideo)bx(be)})}Y.click(function(){bt();return false});Z.click(function(){if(!$invideo)bu(this);return false});bc.click(function(){if(!$invideo)bv();return false});bd.click(function(){if(!$invideo)bw();return false});be.click(function(){if(!$invideo)bx(be);return false});ba.click(function(){bz();return false});_.click(function(){bA();return false})})}})(jQuery);